using System;
using System.Windows.Forms;

namespace StartForm {
    public partial class Start : Form {
        public Start()
        {
            InitializeComponent();
        }

        private void Login()
        {
            MessageBox.Show("Logging you in...");
            Hide();
            Joke joke = new Joke();//todo joke
        }

        private void B_Login_Click(object sender, EventArgs e)
        {
            if ( string.IsNullOrWhiteSpace(TB_Name.Text) || string.IsNullOrWhiteSpace(TB_Password.Text) ) {
                MessageBox.Show("Text boxes cannot be empty.", "Invaild Input", MessageBoxButtons.OK, MessageBoxIcon.Error);
                return;
            }
            bool isCorrect = SqlHelper.CheckUser(TB_Name.Text, TB_Password.Text);

            if ( isCorrect ) {
                Login();
            }
        }

        private void B_Signup_Click(object sender, EventArgs e)
        {
            if ( string.IsNullOrWhiteSpace(TB_Name.Text) || string.IsNullOrWhiteSpace(TB_Password.Text) ) {
                MessageBox.Show("Text boxes cannot be empty.", "Invaild Input", MessageBoxButtons.OK, MessageBoxIcon.Error);
                return;
            }
            bool isSuccessful = SqlHelper.SaveUser(TB_Name.Text, TB_Password.Text);

            if ( isSuccessful ) {
                Login();
            }
        }

        private void B_Exit_Click(object sender, EventArgs e)
        {
            MessageBox.Show("You cannot close this.");
        }
    }
}
